#:kivy 2.2.1
#:import hex kivy.utils.get_color_from_hex

<Labela@Label>:
    canvas.before:
        Color:
            rgba: hex('#3A4D68')
    
        Rectangle:
            size: self.size[0], self.size[1]
            pos: self.pos
    
    
<AgregarProductoPopup>:
    size_hint_min: 550, 500
	size_hint: .55, .5
	title: 'Productos'
	BoxLayout:
		orientation: 'vertical'
		BoxLayout:
			size_hint_y: .8
			orientation: 'vertical'
			BoxLayout:
                spacing: 2
				size_hint_y: .1
				Labela:
	    			text: 'CÃ³digo'
			    	size_hint_x: .2
			    Labela:
	    			text: 'Nombre'
			        size_hint_x: .5
			    Labela:
	    			text: 'En inventario'
			        size_hint_x: .2
			    Labela:
	    			text: 'Precio'
			        size_hint_x: .2
			RV:
                viewclass: 'SelectableLabelBoxLayaoutPopup'
				id: rvs
		BoxLayout:
			size_hint_y: .2
			Button: 
				text: 'Seleccionar'
				on_release: root.select_producto_popup()
			Button:
				text: 'Salir'
				on_release: root.dismiss()
            # otros widgets dentro del BoxLayout
<SelectableLabelBoxLayaoutPopup>:

    # Draw a background to indicate selection
    size_hint_min: 200, None
    canvas.before:
        Color:
            rgba: hex('#4C695E') if self.selected else hex('#0E1311')
        Rectangle:   
            pos: self.pos
            size: self.size
    Label:
        size_hint_min: 200, None
        id: numero
        size_hint_x: 0.2
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: nombre_p
        size_hint_x: 0.5   
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: cantidad_p
        size_hint_x: 0.2
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: precio_p
        size_hint_x: 0.2
        color: (0,0,0,1) 

<SelectableLabelBoxLayaout>:

    # Draw a background to indicate selection
    size_hint_min: 200, None
    canvas.before:
        Color:
            rgba: hex('#4C695E') if self.selected else hex('#0E1311')
        Rectangle:   
            pos: self.pos
            size: self.size
    Label:
        size_hint_min: 200, None
        id: numero
        size_hint_x: 0.1 
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: nombre_p
        size_hint_x: 0.4    
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: cantidad_p
        size_hint_x: 0.1 
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: precio_p
        size_hint_x: 0.2
        color: (0,0,0,1)
    Label:
        size_hint_min: 200, None
        id: total_p
        size_hint_x: 0.2  
        color: (0,0,0,1)                 
<RV>:
    SelectableRecycleBoxLayout:
        size_hint_min: 200, None
        padding: 0, 1, 0, 0
        spacing: .5
        default_size: None, dp(30)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False

<Labeloscuro@Label>:
    size_hint_min: 200, None
    halign: 'center'
    valign: 'middle'
    text_size: self.size
    canvas.before:
        Color:
            rgba: hex('#1D2522')
        Rectangle:
            size: self.size
            pos: self.pos
    
<Botona@Button>
    size_hint: None, None
    size: 200, 50
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    background_color: hex ('#2E4744')
    background_normal: ''


<Botonb@Button>
    size_hint: None, None
    size: 200, 50
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    background_color: hex ('#2E4744')
    background_normal: ''
    border_width: 20
    text:
    text_size:
    valign:
    # background_disabled_color: hex ('#6ffffff')
    # background_down: '153, 158, 159'
    # border: (10, 10, 10, 10)
    # border_color: ''
    # border_disabled_color: hex ('#ffffff')
    # border_radius:'20'
    # disabled:
    # font_size:
    # halign:
    # markup:
    # on_press:
    # on_release:
    # padding:
<Botonc@Button>
    size_hint_min: 200, None
    background_color: hex ('#2E4744')
    background_normal: ''
<Ventas>:
    size_hint_min: 500, 500
    orientation: "vertical"
    BoxLayout:
        spacing:2
        size_hint_y: 0.15
        orientation: "horizontal"
        canvas.before:
            Color:
                rgba: hex('#78B1BD') 
            Rectangle: 
                
                size: self.size
                pos: self.pos
        BoxLayout:
            size_hint_min_x: 200
            canvas.before:
                Color:
                    rgba: hex('#1A1924') 
                Rectangle: 
                    
                    size: self.size
                    pos: self.pos

            Label:
                text_size: (None, None)
                size: 200, 100
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                size_hint_x: 0.3
                text: "Logos"
 
            
        GridLayout:
            size_hint_min: 200, None
            # orientation: "horizontal"
            row: 2
            cols: 2
            size_hint_x: .25
            Label: 
                color: (0,0,0,1)
                text: "Fecha:"
            Label: 
                color: (0,0,0,1)
                id: fecha 

            Label: 
                color: (0,0,0,1)
                text: "Hora:"
            Label: 
                color: (0,0,0,1)
                id: hora    
   
        Label:
            canvas.before:
                Color:
                    rgba: hex('#2B5251') 
                Rectangle: 
                    
                    size: self.size
                    pos: self.pos
            
            size_hint_x: .15

        Botonb:
            id: admin_boton
            text: "admin" 
            on_release: root.admin() 


        Botona:
            id: salir_boton
            text: "salir"  
            on_release: root.salir()                

    BoxLayout:
        
        BoxLayout:
            padding: 0,0,1,0
            canvas.before:
                Color:
                    rgba: hex('#ffffff')
                Rectangle:
                    size: self.size
                    pos: self.pos
            orientation:"vertical"
            GridLayout:
                spacing: 2
                size_hint_y: .06
                pos_hint: {'center_x': 0.5, 'center_y': .97}
                row: 2
                cols: 2

                TextInput:
                    id: buscar_x_id
                    multiline: False
                    on_text_validate: root.agregar_producto_id(self.text)
                    foreground_color: hex ('#000000')
                    hint_text: "Buscar por id" 

                TextInput:
                    id: buscar_x_nombre
                    multiline: False
                    on_text_validate: root.agregar_producto_nombre(self.text)
                    foreground_color: hex ('#000000') 
                    hint_text: "Buscar por nombre"
            BoxLayout:
                spacing: 2
                size_hint_y: .05 
                Labeloscuro:
                    size_hint_x: .1
                    text: "#" 
                Labeloscuro:
                    size_hint_x: .4
                    text: "nombre producto" 
                Labeloscuro:
                    size_hint_x: .1
                    text: "carrito" 
                Labeloscuro:
                    size_hint_x: .2
                    text: "precio"   
                Labeloscuro:
                    size_hint_x: .2
                    text: "total"  
#espacio en blanco del medio izquierdo
            RV:
                viewclass: 'SelectableLabelBoxLayaout'
                id: rvs
            BoxLayout:
                size_hint_y: .15
                spacing:2
                orientation:"horizontal"
                Botonc:
                    id: eliminar
                    text:"eliminar"
                    on_release: root.eliminar_product()
                Botonc:
                    id: cantidad
                    text:"cantidad"
                    on_release: root.cantidad()
            
        BoxLayout:
            orientation:"vertical"
            size_hint_x: 0.7
            canvas.before:
                Color:
                    rgba: hex('#889f93')
                Rectangle:
                    #size_hint_y: 0.4 
                    size: self.size
                    pos: self.pos
            GridLayout:
                size_hint_y: .2
                row:2
                cols:2
                Labeloscuro:
                    text:"subtotal"
                Labeloscuro:
                    id: subtotal
                    text:"00.00"    
                Labeloscuro:
                    text:"total"
                Labeloscuro:
                    text:"00.00"     

            BoxLayout:
                orientation: "vertical"
                Label:
                    size_hint_y: .85
                    text: "Cuadricula de Importe"

                GridLayout:
                    spacing:2
                    size_hint_y: .141
                    row:2
                    cols:2
                    Botonc:
                        id: pagar
                        text:"Pagar"
                        on_release: root.pagar()
                    Botonc:
                        id: nueva_compra
                        text:"nueva compra"  
                        on_release: root.nueva_compra()     
                    Botonc:
                        id: imprimir
                        text:"Imprimir" 
                        on_release: root.imprimir()
                    Botonc:
                        id: cancelar
                        text:"Cancelar" 
                        on_release: root.cancelar()    
    BoxLayout:
        size_hint_y: 0.1
        canvas.before:
            Color:
                rgba: hex('#78B1BD')
            Rectangle:
                #size_hint_y: 0.1 
                size: self.size
                pos: self.pos
        Label:
            text: "sponsors"                         